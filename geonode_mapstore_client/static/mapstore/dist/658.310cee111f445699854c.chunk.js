(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[658],{30006:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(73381);const o={SINGLECLICK:"singleclick",CLICK:i.Z.CLICK,DBLCLICK:i.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},6908:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={ANIMATING:0,INTERACTING:1}},90728:(t,e,n)=>{"use strict";n.d(e,{IH:()=>r,oL:()=>a,I8:()=>s,fS:()=>h,U1:()=>c,bA:()=>l,bI:()=>u,TE:()=>d,Bs:()=>p});var i=n(21882),o=n(79313);function r(t,e){return t[0]+=e[0],t[1]+=e[1],t}function a(t,e){var n,i,o=t[0],r=t[1],a=e[0],s=e[1],h=a[0],c=a[1],l=s[0],u=s[1],d=l-h,p=u-c,_=0===d&&0===p?0:(d*(o-h)+p*(r-c))/(d*d+p*p||0);return _<=0?(n=h,i=c):_>=1?(n=l,i=u):(n=h+_*d,i=c+_*p),[n,i]}function s(t,e,n){var r=(0,i.$W)(e+180,360)-180,a=Math.abs(3600*r),s=n||0,h=Math.pow(10,s),c=Math.floor(a/3600),l=Math.floor((a-3600*c)/60),u=a-3600*c-60*l;return(u=Math.ceil(u*h)/h)>=60&&(u=0,l+=1),l>=60&&(l=0,c+=1),c+"° "+(0,o.v)(l,2)+"′ "+(0,o.v)(u,2,s)+"″"+(0==r?"":" "+t.charAt(r<0?1:0))}function h(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function c(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function l(t,e){return t[0]*=e,t[1]*=e,t}function u(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function d(t,e){return Math.sqrt(u(t,e))}function p(t,e){return u(t,a(t,e))}},36403:(t,e,n)=>{"use strict";n.d(e,{Ko:()=>s,aj:()=>h,T_:()=>c,Bx:()=>l,v8:()=>u,Fi:()=>d,MJ:()=>p,Kf:()=>_,rM:()=>v,QC:()=>g,vY:()=>f,TN:()=>E,QL:()=>m,Xp:()=>y});var i=n(30006),o=n(38906),r=n(64011),a=n(91358),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},h=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},c=function(t){return t.target.getTargetElement()===document.activeElement},l=r.uX,u=function(t){var e=t.originalEvent;return 0==e.button&&!(a.G$&&a.tK&&e.ctrlKey)},d=r.Dv,p=function(t){return"pointermove"==t.type},_=function(t){return t.type==i.Z.SINGLECLICK},v=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},g=function(t){var e=t.originalEvent;return!e.altKey&&(a.tK?e.metaKey:e.ctrlKey)&&!e.shiftKey},f=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},E=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},m=function(t){var e=t.pointerEvent;return(0,o.h)(void 0!==e,56),"mouse"==e.pointerType},y=function(t){var e=t.pointerEvent;return(0,o.h)(void 0!==e,56),e.isPrimary&&0===e.button}},18369:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(30006),o=n(29639);function r(t){var e=!1;if(t.type==i.Z.DBLCLICK){var n=t.originalEvent,r=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,h=r.getView();(0,o.FW)(h,s,a,this.duration_),t.preventDefault(),e=!0}return!e}const a=function(t){function e(e){t.call(this,{handleEvent:r});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.ZP)},43033:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(9520),o=n(36403),r=n(64011),a=n(38024),s=n(80967),h=n(15265);const c=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new h.ZP([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(s.Z);var l=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.ZP);const u=function(t){function e(e){t.call(this);var n=e||{};this.box_=new c(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:r.Zn,this.startPixel_=null,this.condition_=n.condition?n.condition:o.Bx,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,o.QL)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new l("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,o.QL)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new l("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!(0,o.QL)(t)||!(0,o.v8)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new l("boxstart",t.coordinate,t)),0))},e}(a.Z)},73800:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(6908),o=n(90728),r=n(86320),a=n(36403),s=n(64011),h=n(38024);const c=function(t){function e(e){t.call(this,{stopDown:s.Dv});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:a.rM,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(i.Z.INTERACTING,1));var e=this.targetPointers,n=(0,h.S)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=this.lastCentroid[0]-n[0],a=n[1]-this.lastCentroid[1],s=t.map.getView(),c=[r,a];(0,o.bA)(c,s.getResolution()),(0,o.U1)(c,s.getRotation()),(0,o.IH)(c,s.getCenter()),c=s.constrainCenter(c),s.setCenter(c)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=n.getCenter(),h=e.getPixelFromCoordinate(s),c=e.getCoordinateFromPixel([h[0]-o*Math.cos(a),h[1]-o*Math.sin(a)]);n.animate({center:n.constrainCenter(c),duration:500,easing:r.Vv})}return this.panning_&&(this.panning_=!1,n.setHint(i.Z.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(h.Z)},97950:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(38642),o=n(6908),r=n(36403),a=n(64011),s=n(29639);const h=function(t){function e(e){var n=e||{};t.call(this,{stopDown:a.Dv}),this.condition_=n.condition?n.condition:r.aj,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,r.QL)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==i.h$){var o=e.getSize(),a=t.pixel,h=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(void 0!==this.lastAngle_){var c=h-this.lastAngle_,l=n.getRotation();(0,s.dl)(n,l-c)}this.lastAngle_=h}}},e.prototype.handleUpEvent=function(t){if(!(0,r.QL)(t))return!0;var e=t.map.getView();e.setHint(o.Z.INTERACTING,-1);var n=e.getRotation();return(0,s.U1)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!(0,r.QL)(t)||!(0,r.v8)(t)||!this.condition_(t)||(t.map.getView().setHint(o.Z.INTERACTING,1),this.lastAngle_=void 0,0))},e}(n(38024).Z)},78516:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(86320),o=n(36403),r=n(21915);function a(){var t=this.getMap(),e=t.getView(),n=t.getSize(),o=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtent(n),s=(0,r.ZT)([t.getPixelFromCoordinate((0,r.hC)(o)),t.getPixelFromCoordinate((0,r.Xv)(o))]),h=e.getResolutionForExtent(s,n);(0,r.H9)(a,1/h),o=a}var c=e.constrainResolution(e.getResolutionForExtent(o,n)),l=(0,r.qg)(o);l=e.constrainCenter(l),e.animate({resolution:c,center:l,duration:this.duration_,easing:i.Vv})}const s=function(t){function e(e){var n=e||{},i=n.condition?n.condition:o.vY;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:a}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(43033).Z)},29639:(t,e,n)=>{"use strict";n.d(e,{Cv:()=>s,U1:()=>h,dl:()=>c,sP:()=>l,FW:()=>u,DQ:()=>d,ZP:()=>p});var i=n(58493),o=n(86320),r=n(73604),a=n(21882);function s(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:o.GE,center:r}):t.setCenter(r)}}function h(t,e,n,i){e=t.constrainRotation(e,0),c(t,e,n,i)}function c(t,e,n,i){if(void 0!==e){var r=t.getRotation(),a=t.getCenter();void 0!==r&&a&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:o.Vv}):t.rotate(e,n)}}function l(t,e,n,i,o){e=t.constrainResolution(e,0,o),d(t,e,n,i)}function u(t,e,n,i){var o=t.getResolution(),r=t.constrainResolution(o,e,0);if(void 0!==r){var s=t.getResolutions();r=(0,a.uZ)(r,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==r&&r!==o){var h=t.getCenter(),c=t.calculateCenterZoom(r,n);c=t.constrainCenter(c),n=[(r*h[0]-o*c[0])/(r-o),(r*h[1]-o*c[1])/(r-o)]}d(t,r,n,i)}function d(t,e,n,i){if(e){var r=t.getResolution(),a=t.getCenter();if(void 0!==r&&a&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:o.Vv});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}const p=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(r.Z.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(r.Z.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.ZP)},45801:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(90728),o=n(73381);var r=n(36403),a=n(29639);function s(t){var e=!1;if(t.type==o.Z.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){var r=t.map.getView(),s=r.getResolution()*this.pixelDelta_,h=0,c=0;40==n?c=-s:37==n?h=-s:39==n?h=s:c=s;var l=[h,c];(0,i.U1)(l,r.getRotation()),(0,a.Cv)(r,l,this.duration_),t.preventDefault(),e=!0}}return!e}const h=function(t){function e(e){t.call(this,{handleEvent:s});var n=e||{};this.defaultCondition_=function(t){return(0,r.rM)(t)&&(0,r.TN)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.ZP)},52:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(73381),o=n(36403),r=n(29639);function a(t){var e=!1;if(t.type==i.Z.KEYDOWN||t.type==i.Z.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var o=t.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=o.getView();(0,r.FW)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}const s=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.condition_=n.condition?n.condition:o.TN,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.ZP)},86306:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(6908),o=n(36403),r=n(86320),a=n(73381),s=n(91358),h=n(29639),c=n(21882),l="trackpad";const u=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:o.Bx,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(i.Z.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==a.Z.WHEEL&&e!==a.Z.MOUSEWHEEL)return!0;t.preventDefault();var n,o=t.map,h=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==a.Z.WHEEL?(n=h.deltaY,s.V&&h.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=s.MP),h.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==a.Z.MOUSEWHEEL&&(n=-h.wheelDeltaY,s.vw&&(n/=3)),0===n)return!1;var c=Date.now();if(void 0===this.startTime_&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?l:"wheel"),this.mode_===l){var u=o.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):u.setHint(i.Z.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var d=u.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),p=u.getMinResolution(),_=u.getMaxResolution(),v=0;if(d<p?(d=Math.max(d,p/this.trackpadZoomBuffer_),v=1):d>_&&(d=Math.min(d,_*this.trackpadZoomBuffer_),v=-1),this.lastAnchor_){var g=u.calculateCenterZoom(d,this.lastAnchor_);u.setCenter(u.constrainCenter(g))}return u.setResolution(d),0===v&&this.constrainResolution_&&u.animate({resolution:u.constrainResolution(d,n>0?-1:1),easing:r.Vv,anchor:this.lastAnchor_,duration:this.duration_}),v>0?u.animate({resolution:p,easing:r.Vv,anchor:this.lastAnchor_,duration:500}):v<0&&u.animate({resolution:_,easing:r.Vv,anchor:this.lastAnchor_,duration:500}),this.startTime_=c,!1}this.delta_+=n;var f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),f),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=(0,c.uZ)(this.delta_,-1,1);(0,h.FW)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(h.ZP)},78653:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(6908),o=n(64011),r=n(29639),a=n(38024),s=n(38642);const h=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=o.Dv),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var h=o-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=h}this.lastAngle_=o;var c=t.map,l=c.getView();if(l.getConstraints().rotation!==s.h$){var u=c.getViewport().getBoundingClientRect(),d=(0,a.S)(this.targetPointers);if(d[0]-=u.left,d[1]-=u.top,this.anchor_=c.getCoordinateFromPixel(d),this.rotating_){var p=l.getRotation();c.render(),(0,r.dl)(l,p+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(i.Z.INTERACTING,-1),this.rotating_){var n=e.getRotation();(0,r.U1)(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(i.Z.INTERACTING,1),!0}return!1},e}(a.Z)},48041:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(6908),o=n(64011),r=n(29639),a=n(38024);const s=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=o.Dv),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,s=n.clientY-i.clientY,h=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/h),this.lastDistance_=h;var c=t.map,l=c.getView(),u=l.getResolution(),d=l.getMaxResolution(),p=l.getMinResolution(),_=u*e;_>d?(e=d/u,_=d):_<p&&(e=p/u,_=p),1!=e&&(this.lastScaleDelta_=e);var v=c.getViewport().getBoundingClientRect(),g=(0,a.S)(this.targetPointers);g[0]-=v.left,g[1]-=v.top,this.anchor_=c.getCoordinateFromPixel(g),c.render(),(0,r.DQ)(l,_,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(i.Z.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var o=this.lastScaleDelta_-1;(0,r.sP)(e,n,this.anchor_,this.duration_,o)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(i.Z.INTERACTING,1),!0}return!1},e}(a.Z)},38024:(t,e,n)=>{"use strict";n.d(e,{S:()=>a,Z:()=>s});var i=n(30006),o=n(29639),r=n(13580);function a(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}const s=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.Z.POINTERDRAG)this.handleDragEvent(t);else if(t.type==i.Z.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==i.Z.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==i.Z.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===i.Z.POINTERDOWN||e===i.Z.POINTERDRAG||e===i.Z.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==i.Z.POINTERUP?delete this.trackedPointers_[n]:(t.type==i.Z.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=(0,r.KX)(this.trackedPointers_)}},e}(o.ZP)},73604:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={ACTIVE:"active"}},38642:(t,e,n)=>{"use strict";n.d(e,{h$:()=>o,YP:()=>r,gE:()=>a,Gw:()=>s});var i=n(21882);function o(t,e){return void 0!==t?0:void 0}function r(t,e){return void 0!==t?t+e:void 0}function a(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function s(t){var e=t||(0,i.Yr)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}},79313:(t,e,n)=>{"use strict";function i(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,o=i.indexOf(".");return(o=-1===o?i.length:o)>e?i:new Array(1+e-o).join("0")+i}function o(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),o=0;o<Math.max(n.length,i.length);o++){var r=parseInt(n[o]||"0",10),a=parseInt(i[o]||"0",10);if(r>a)return 1;if(a>r)return-1}return 0}n.d(e,{v:()=>i,n:()=>o})}}]);